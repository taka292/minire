<header class="flex items-center justify-between px-4 py-2">
  <!-- ロゴと検索フォーム -->
  <div class="flex items-center gap-8">
    <!-- ロゴ部分 -->
    <%= link_to "MiniRe", reviews_path, class: "text-2xl font-bold text-gray-700" %>

    <!-- 検索フォーム -->
    <form class="flex items-center gap-2" action="<%= reviews_path %>" method="get">
      <input type="text" name="query" placeholder="商品名・キーワード" class="input input-bordered input-sm w-64 placeholder-gray-400">
      <button type="submit" class="btn btn-sm bg-blue-400 text-white border-none">検索</button>
    </form>
  </div>

  <!-- アイコン部分 -->
  <div class="flex items-center gap-4">
    <!-- レビュー投稿 -->
    <%= link_to new_review_path, class: "flex items-center justify-center" do %>
      <span class="material-icons text-gray-600 text-3xl" aria-label="レビュー">rate_review</span>
    <% end %>

    <!-- レビュー検索 -->
    <span class="material-icons text-gray-600 text-3xl" aria-label="検索">manage_search</span>

    <!-- いいね一覧 -->
    <% if user_signed_in? %>
      <%= link_to likes_profile_path(current_user), class: "flex items-center justify-center" do %>
        <span class="material-icons text-gray-600 text-3xl" aria-label="いいね一覧">favorite_border</span>
      <% end %>

      <!-- ログアウト -->
      <%= link_to destroy_user_session_path, method: :delete, data: { turbo_method: :delete }, class: "flex items-center justify-center" do %>
        <span class="material-icons text-gray-600 text-3xl" aria-label="ログアウト">logout</span>
      <% end %>

      <!-- アバター表示 -->
      <%= link_to profile_path(current_user), class: "flex items-center justify-center" do %>
        <% if current_user.avatar.attached? %>
          <%= image_tag current_user.resized_avatar, 
                        class: "w-10 h-10 rounded-full object-cover", 
                        alt: "アバター画像" %>
        <% else %>
          <span class="material-symbols-outlined text-gray-600 text-3xl">account_circle</span>
        <% end %>
      <% end %>
    <% else %>
      <!-- ログイン -->
      <%= link_to new_user_session_path, class: "flex items-center justify-center" do %>
        <span class="material-icons text-gray-600 text-3xl" aria-label="ログイン">login</span>
      <% end %>
    <% end %>
  </div>
</header>
